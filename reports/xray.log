Traceback (most recent call last):
  File "/home/emi/.local/lib/python3.6/site-packages/jupyter_cache/executors/utils.py", line 56, in single_nb_execution
    record_timing=False,
  File "/home/emi/.local/lib/python3.6/site-packages/nbclient/client.py", line 1112, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/home/emi/.local/lib/python3.6/site-packages/nbclient/util.py", line 74, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/home/emi/.local/lib/python3.6/site-packages/nbclient/util.py", line 53, in just_run
    return loop.run_until_complete(coro)
  File "/usr/lib/python3.6/asyncio/base_events.py", line 484, in run_until_complete
    return future.result()
  File "/home/emi/.local/lib/python3.6/site-packages/nbclient/client.py", line 554, in async_execute
    cell, index, execution_count=self.code_cells_executed + 1
  File "/home/emi/.local/lib/python3.6/site-packages/nbclient/client.py", line 857, in async_execute_cell
    self._check_raise_for_error(cell, exec_reply)
  File "/home/emi/.local/lib/python3.6/site-packages/nbclient/client.py", line 760, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
vinyl   = """
 C     0.000000    -0.246412    -1.271068
 C     0.000000     0.457081    -0.154735
 F     0.000000    -0.119195     1.052878
 H     0.000000     0.272328    -2.210194
 H     0.000000    -1.319906    -1.249847
 H     0.000000     1.530323    -0.095954
"""

# SCF calculation
struct  = gator.get_molecule(vinyl)
basis   = gator.get_molecular_basis(struct,'6-31G')
scf_res = gator.run_scf(struct,basis)

# CVS space with three lowest MOs
adc_xas = gator.run_adc(struct,basis,scf_res,method='cvs-adc2x',singlets=10,core_orbitals=[1,2,3])
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mArpackNoConvergence[0m                       Traceback (most recent call last)
[0;32m<ipython-input-20-95a6854a0133>[0m in [0;36m<module>[0;34m[0m
[1;32m     14[0m [0;34m[0m[0m
[1;32m     15[0m [0;31m# CVS space with three lowest MOs[0m[0;34m[0m[0;34m[0m[0;34m[0m[0m
[0;32m---> 16[0;31m [0madc_xas[0m [0;34m=[0m [0mgator[0m[0;34m.[0m[0mrun_adc[0m[0;34m([0m[0mstruct[0m[0;34m,[0m[0mbasis[0m[0;34m,[0m[0mscf_res[0m[0;34m,[0m[0mmethod[0m[0;34m=[0m[0;34m'cvs-adc2x'[0m[0;34m,[0m[0msinglets[0m[0;34m=[0m[0;36m10[0m[0;34m,[0m[0mcore_orbitals[0m[0;34m=[0m[0;34m[[0m[0;36m1[0m[0;34m,[0m[0;36m2[0m[0;34m,[0m[0;36m3[0m[0;34m][0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0m
[0;32m~/.local/lib/python3.6/site-packages/gator-0.0-py3.6.egg/gator/gatorutils.py[0m in [0;36mrun_adc[0;34m(mol, basis, scf_drv, **kwargs)[0m
[1;32m    148[0m [0;34m[0m[0m
[1;32m    149[0m     [0mtask[0m [0;34m=[0m [0mMockTask[0m[0;34m([0m[0mmol[0m[0;34m,[0m [0mbasis[0m[0;34m,[0m [0mcomm[0m[0;34m,[0m [0mostream[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0;32m--> 150[0;31m     [0;32mreturn[0m [0madc_drv[0m[0;34m.[0m[0mcompute[0m[0;34m([0m[0mtask[0m[0;34m,[0m [0mscf_drv[0m[0;34m,[0m [0mverbose[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0m
[0;32m~/.local/lib/python3.6/site-packages/gator-0.0-py3.6.egg/gator/adcdriver.py[0m in [0;36mcompute[0;34m(self, task, scf_drv, verbose)[0m
[1;32m    301[0m                                        [0mfrozen_core[0m[0;34m=[0m[0mself[0m[0;34m.[0m[0madc_frozen_core[0m[0;34m,[0m[0;34m[0m[0;34m[0m[0m
[1;32m    302[0m                                        [0mfrozen_virtual[0m[0;34m=[0m[0mself[0m[0;34m.[0m[0madc_frozen_virtual[0m[0;34m,[0m[0;34m[0m[0;34m[0m[0m
[0;32m--> 303[0;31m                                        conv_tol=self.adc_tol)
[0m[1;32m    304[0m [0;34m[0m[0m
[1;32m    305[0m                 [0;32mif[0m [0mverbose[0m[0;34m:[0m[0;34m[0m[0;34m[0m[0m

[0;32m~/.local/lib/python3.6/site-packages/adcc/workflow.py[0m in [0;36mrun_adc[0;34m(data_or_matrix, n_states, kind, conv_tol, eigensolver, guesses, n_guesses, n_guesses_doubles, output, core_orbitals, frozen_core, frozen_virtual, method, n_singlets, n_triplets, n_spin_flip, **solverargs)[0m
[1;32m    195[0m         [0mmatrix[0m[0;34m,[0m [0mn_states[0m[0;34m,[0m [0mkind[0m[0;34m,[0m [0mguesses[0m[0;34m=[0m[0mguesses[0m[0;34m,[0m [0mn_guesses[0m[0;34m=[0m[0mn_guesses[0m[0;34m,[0m[0;34m[0m[0;34m[0m[0m
[1;32m    196[0m         [0mn_guesses_doubles[0m[0;34m=[0m[0mn_guesses_doubles[0m[0;34m,[0m [0mconv_tol[0m[0;34m=[0m[0mconv_tol[0m[0;34m,[0m [0moutput[0m[0;34m=[0m[0moutput[0m[0;34m,[0m[0;34m[0m[0;34m[0m[0m
[0;32m--> 197[0;31m         eigensolver=eigensolver, **solverargs)
[0m[1;32m    198[0m     [0mexstates[0m [0;34m=[0m [0mExcitedStates[0m[0;34m([0m[0mdiagres[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[1;32m    199[0m     [0mexstates[0m[0;34m.[0m[0mkind[0m [0;34m=[0m [0mkind[0m[0;34m[0m[0;34m[0m[0m

[0;32m~/.local/lib/python3.6/site-packages/adcc/workflow.py[0m in [0;36mdiagonalise_adcmatrix[0;34m(matrix, n_states, kind, eigensolver, guesses, n_guesses, n_guesses_doubles, conv_tol, output, **solverargs)[0m
[1;32m    397[0m                            [0mcallback[0m[0;34m=[0m[0mcallback[0m[0;34m,[0m[0;34m[0m[0;34m[0m[0m
[1;32m    398[0m                            [0mexplicit_symmetrisation[0m[0;34m=[0m[0mexplicit_symmetrisation[0m[0;34m,[0m[0;34m[0m[0;34m[0m[0m
[0;32m--> 399[0;31m                            **solverargs)
[0m[1;32m    400[0m [0;34m[0m[0m
[1;32m    401[0m [0;34m[0m[0m

[0;32m~/.local/lib/python3.6/site-packages/adcc/solver/davidson.py[0m in [0;36mjacobi_davidson[0;34m(*args, **kwargs)[0m
[1;32m    405[0m [0;32mdef[0m [0mjacobi_davidson[0m[0;34m([0m[0;34m*[0m[0margs[0m[0;34m,[0m [0;34m**[0m[0mkwargs[0m[0;34m)[0m[0;34m:[0m[0;34m[0m[0;34m[0m[0m
[1;32m    406[0m     return eigsh(*args, preconditioner=JacobiPreconditioner,
[0;32m--> 407[0;31m                  preconditioning_method="Davidson", **kwargs)
[0m[1;32m    408[0m [0;34m[0m[0m
[1;32m    409[0m [0;34m[0m[0m

[0;32m~/.local/lib/python3.6/site-packages/adcc/solver/davidson.py[0m in [0;36meigsh[0;34m(matrix, guesses, n_ep, max_subspace, conv_tol, which, max_iter, callback, preconditioner, preconditioning_method, debug_checks, residual_min_norm, explicit_symmetrisation)[0m
[1;32m    399[0m                         [0mdebug_checks[0m[0;34m=[0m[0mdebug_checks[0m[0;34m,[0m[0;34m[0m[0;34m[0m[0m
[1;32m    400[0m                         [0mresidual_min_norm[0m[0;34m=[0m[0mresidual_min_norm[0m[0;34m,[0m[0;34m[0m[0;34m[0m[0m
[0;32m--> 401[0;31m                         explicit_symmetrisation=explicit_symmetrisation)
[0m[1;32m    402[0m     [0;32mreturn[0m [0mstate[0m[0;34m[0m[0;34m[0m[0m
[1;32m    403[0m [0;34m[0m[0m

[0;32m~/.local/lib/python3.6/site-packages/adcc/solver/davidson.py[0m in [0;36mdavidson_iterations[0;34m(matrix, state, max_subspace, max_iter, n_ep, is_converged, which, callback, preconditioner, preconditioning_method, debug_checks, residual_min_norm, explicit_symmetrisation)[0m
[1;32m    182[0m                 [0;31m# TODO Maybe use previous vectors somehow[0m[0;34m[0m[0;34m[0m[0;34m[0m[0m
[1;32m    183[0m                 [0mv0[0m [0;34m=[0m [0;32mNone[0m[0;34m[0m[0;34m[0m[0m
[0;32m--> 184[0;31m                 [0mrvals[0m[0;34m,[0m [0mrvecs[0m [0;34m=[0m [0msla[0m[0;34m.[0m[0meigsh[0m[0;34m([0m[0mAss[0m[0;34m,[0m [0mk[0m[0;34m=[0m[0mn_block[0m[0;34m,[0m [0mwhich[0m[0;34m=[0m[0mwhich[0m[0;34m,[0m [0mv0[0m[0;34m=[0m[0mv0[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0m[1;32m    185[0m [0;34m[0m[0m
[1;32m    186[0m         [0;32mwith[0m [0mstate[0m[0;34m.[0m[0mtimer[0m[0;34m.[0m[0mrecord[0m[0;34m([0m[0;34m"residuals"[0m[0;34m)[0m[0;34m:[0m[0;34m[0m[0;34m[0m[0m

[0;32m~/.local/lib/python3.6/site-packages/scipy/sparse/linalg/eigen/arpack/arpack.py[0m in [0;36meigsh[0;34m(A, k, M, sigma, which, v0, ncv, maxiter, tol, return_eigenvectors, Minv, OPinv, mode)[0m
[1;32m   1685[0m     [0;32mwith[0m [0m_ARPACK_LOCK[0m[0;34m:[0m[0;34m[0m[0;34m[0m[0m
[1;32m   1686[0m         [0;32mwhile[0m [0;32mnot[0m [0mparams[0m[0;34m.[0m[0mconverged[0m[0;34m:[0m[0;34m[0m[0;34m[0m[0m
[0;32m-> 1687[0;31m             [0mparams[0m[0;34m.[0m[0miterate[0m[0;34m([0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0m[1;32m   1688[0m [0;34m[0m[0m
[1;32m   1689[0m         [0;32mreturn[0m [0mparams[0m[0;34m.[0m[0mextract[0m[0;34m([0m[0mreturn_eigenvectors[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m

[0;32m~/.local/lib/python3.6/site-packages/scipy/sparse/linalg/eigen/arpack/arpack.py[0m in [0;36miterate[0;34m(self)[0m
[1;32m    569[0m                 [0;32mpass[0m[0;34m[0m[0;34m[0m[0m
[1;32m    570[0m             [0;32melif[0m [0mself[0m[0;34m.[0m[0minfo[0m [0;34m==[0m [0;36m1[0m[0;34m:[0m[0;34m[0m[0;34m[0m[0m
[0;32m--> 571[0;31m                 [0mself[0m[0;34m.[0m[0m_raise_no_convergence[0m[0;34m([0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0m[1;32m    572[0m             [0;32melse[0m[0;34m:[0m[0;34m[0m[0;34m[0m[0m
[1;32m    573[0m                 [0;32mraise[0m [0mArpackError[0m[0;34m([0m[0mself[0m[0;34m.[0m[0minfo[0m[0;34m,[0m [0minfodict[0m[0;34m=[0m[0mself[0m[0;34m.[0m[0miterate_infodict[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m

[0;32m~/.local/lib/python3.6/site-packages/scipy/sparse/linalg/eigen/arpack/arpack.py[0m in [0;36m_raise_no_convergence[0;34m(self)[0m
[1;32m    375[0m             [0mvec[0m [0;34m=[0m [0mnp[0m[0;34m.[0m[0mzeros[0m[0;34m([0m[0;34m([0m[0mself[0m[0;34m.[0m[0mn[0m[0;34m,[0m [0;36m0[0m[0;34m)[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[1;32m    376[0m             [0mk_ok[0m [0;34m=[0m [0;36m0[0m[0;34m[0m[0;34m[0m[0m
[0;32m--> 377[0;31m         [0;32mraise[0m [0mArpackNoConvergence[0m[0;34m([0m[0mmsg[0m [0;34m%[0m [0;34m([0m[0mnum_iter[0m[0;34m,[0m [0mk_ok[0m[0;34m,[0m [0mself[0m[0;34m.[0m[0mk[0m[0;34m)[0m[0;34m,[0m [0mev[0m[0;34m,[0m [0mvec[0m[0;34m)[0m[0;34m[0m[0;34m[0m[0m
[0m[1;32m    378[0m [0;34m[0m[0m
[1;32m    379[0m [0;34m[0m[0m

[0;31mArpackNoConvergence[0m: ARPACK error -1: No convergence (451 iterations, 17/20 eigenvectors converged)
ArpackNoConvergence: ARPACK error -1: No convergence (451 iterations, 17/20 eigenvectors converged)

