Traceback (most recent call last):
  File "/home/thomas/Notebook/anaconda/envs/echem/lib/python3.10/site-packages/jupyter_cache/executors/utils.py", line 51, in single_nb_execution
    executenb(
  File "/home/thomas/Notebook/anaconda/envs/echem/lib/python3.10/site-packages/nbclient/client.py", line 1204, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/home/thomas/Notebook/anaconda/envs/echem/lib/python3.10/site-packages/nbclient/util.py", line 84, in wrapped
    return just_run(coro(*args, **kwargs))
  File "/home/thomas/Notebook/anaconda/envs/echem/lib/python3.10/site-packages/nbclient/util.py", line 62, in just_run
    return loop.run_until_complete(coro)
  File "/home/thomas/Notebook/anaconda/envs/echem/lib/python3.10/asyncio/base_events.py", line 646, in run_until_complete
    return future.result()
  File "/home/thomas/Notebook/anaconda/envs/echem/lib/python3.10/site-packages/nbclient/client.py", line 663, in async_execute
    await self.async_execute_cell(
  File "/home/thomas/Notebook/anaconda/envs/echem/lib/python3.10/site-packages/nbclient/client.py", line 965, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/home/thomas/Notebook/anaconda/envs/echem/lib/python3.10/site-packages/nbclient/client.py", line 862, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
numerov_settings = {
    "n_vib_states": 4,
    "pec_displacements": "-0.3 - 0.9 (0.2)",
    "el_transition": "no",
    "pec_potential": "morse",
    "n_rot_states": 10,
}
num_drv.update_settings(numerov_settings, scf_settings, method_settings)
num_results = num_drv.compute(molecule, basis)
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mAttributeError[0m                            Traceback (most recent call last)
Cell [0;32mIn [4], line 9[0m
[1;32m      1[0m numerov_settings [38;5;241m=[39m {
[1;32m      2[0m     [38;5;124m"[39m[38;5;124mn_vib_states[39m[38;5;124m"[39m: [38;5;241m4[39m,
[1;32m      3[0m     [38;5;124m"[39m[38;5;124mpec_displacements[39m[38;5;124m"[39m: [38;5;124m"[39m[38;5;124m-0.3 - 0.9 (0.2)[39m[38;5;124m"[39m,
[0;32m   (...)[0m
[1;32m      6[0m     [38;5;124m"[39m[38;5;124mn_rot_states[39m[38;5;124m"[39m: [38;5;241m10[39m,
[1;32m      7[0m }
[1;32m      8[0m num_drv[38;5;241m.[39mupdate_settings(numerov_settings, scf_settings, method_settings)
[0;32m----> 9[0m num_results [38;5;241m=[39m [43mnum_drv[49m[38;5;241;43m.[39;49m[43mcompute[49m[43m([49m[43mmolecule[49m[43m,[49m[43m [49m[43mbasis[49m[43m)[49m

File [0;32m~/Notebook/anaconda/envs/echem/lib/python3.10/site-packages/veloxchem/numerovdriver.py:215[0m, in [0;36mNumerovDriver.compute[0;34m(self, molecule, ao_basis, min_basis)[0m
[1;32m    210[0m     [38;5;28;01mraise[39;00m [38;5;167;01mImportError[39;00m([38;5;124m'[39m[38;5;124mUnable to import scipy. Please install scipy [39m[38;5;124m'[39m [38;5;241m+[39m
[1;32m    211[0m                       [38;5;124m'[39m[38;5;124mvia [39m[38;5;130;01m\'[39;00m[38;5;124mpython3 -m pip install scipy[39m[38;5;130;01m\'[39;00m[38;5;124m'[39m)
[1;32m    213[0m [38;5;28;01mif[39;00m [38;5;129;01mnot[39;00m [38;5;28mself[39m[38;5;241m.[39mpec_data:
[1;32m    214[0m     [38;5;66;03m# carry out PEC scan[39;00m
[0;32m--> 215[0m     [38;5;28mself[39m[38;5;241m.[39mpec_energies, [38;5;28mself[39m[38;5;241m.[39mproperties [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mgenerate_pec[49m[43m([49m
[1;32m    216[0m [43m        [49m[43mmolecule[49m[43m,[49m[43m [49m[43mao_basis[49m[43m,[49m[43m [49m[43mmin_basis[49m[43m)[49m
[1;32m    218[0m assert_msg_critical(
[1;32m    219[0m     [38;5;28mself[39m[38;5;241m.[39mreduced_mass,
[1;32m    220[0m     [38;5;124m'[39m[38;5;124mNumerovDriver.compute: Reduced mass is not defined[39m[38;5;124m'[39m)
[1;32m    222[0m [38;5;66;03m# calculate vibronic wave functions for ground state PEC[39;00m
[1;32m    223[0m 
[1;32m    224[0m [38;5;66;03m# shift data points[39;00m

File [0;32m~/Notebook/anaconda/envs/echem/lib/python3.10/site-packages/veloxchem/numerovdriver.py:398[0m, in [0;36mNumerovDriver.generate_pec[0;34m(self, molecule, ao_basis, min_basis)[0m
[1;32m    395[0m scf_prop [38;5;241m=[39m FirstOrderProperties([38;5;28mself[39m[38;5;241m.[39mcomm, OutputStream([38;5;28;01mNone[39;00m))
[1;32m    397[0m [38;5;66;03m# PEC scan[39;00m
[0;32m--> 398[0m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mprint_PEC_header[49m[43m([49m[43mscf_drv[49m[43m)[49m
[1;32m    400[0m [38;5;28;01mfor[39;00m n, x [38;5;129;01min[39;00m [38;5;28menumerate[39m(bond_lengths):
[1;32m    401[0m     geometry [38;5;241m=[39m Molecule[38;5;241m.[39mread_str([38;5;124m'[39m[38;5;132;01m{}[39;00m[38;5;124m  0 0 0[39m[38;5;130;01m\n[39;00m[38;5;132;01m{}[39;00m[38;5;124m  [39m[38;5;132;01m{}[39;00m[38;5;124m 0 0[39m[38;5;124m'[39m[38;5;241m.[39mformat(
[1;32m    402[0m         atom1, atom2, x [38;5;241m*[39m bohr_in_angstroms()))

File [0;32m~/Notebook/anaconda/envs/echem/lib/python3.10/site-packages/veloxchem/numerovdriver.py:849[0m, in [0;36mNumerovDriver.print_PEC_header[0;34m(self, scf_drv)[0m
[1;32m    845[0m cur_str [38;5;241m=[39m [38;5;124m'[39m[38;5;124mSCF Convergece Threshold      : [39m[38;5;132;01m{:.1e}[39;00m[38;5;124m'[39m[38;5;241m.[39mformat(
[1;32m    846[0m     scf_drv[38;5;241m.[39mconv_thresh)
[1;32m    847[0m [38;5;28mself[39m[38;5;241m.[39mostream[38;5;241m.[39mprint_header(cur_str[38;5;241m.[39mljust(str_width))
[0;32m--> 849[0m [38;5;28;01mif[39;00m [43mscf_drv[49m[38;5;241;43m.[39;49m[43mdft[49m:
[1;32m    850[0m     cur_str [38;5;241m=[39m [38;5;124m'[39m[38;5;124mDFT Functional                : [39m[38;5;124m'[39m
[1;32m    851[0m     cur_str [38;5;241m+[39m[38;5;241m=[39m scf_drv[38;5;241m.[39mxcfun[38;5;241m.[39mget_func_label()[38;5;241m.[39mupper()

[0;31mAttributeError[0m: 'ScfUnrestrictedDriver' object has no attribute 'dft'
AttributeError: 'ScfUnrestrictedDriver' object has no attribute 'dft'

